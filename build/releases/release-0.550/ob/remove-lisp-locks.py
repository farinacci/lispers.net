# -----------------------------------------------------------------------------
#             
# Copyright 2013-2019 lispers.net - Dino Farinacci <farinacci@gmail.com>
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.    
# 
# -----------------------------------------------------------------------------
#
# remove-lisp-locks.py
#
# This python script will remove an named socket file descriptors
# 
# -----------------------------------------------------------------------------
from __future__ import print_function
import os
try :
 from commands import getoutput
except :
 from subprocess import getoutput
 if 64 - 64: i11iIiiIii
 if 65 - 65: O0 / iIii1I11I1II1 % OoooooooOO - i1IIi
 if 73 - 73: II111iiii
 if 22 - 22: I1IiiI * Oo0Ooo / OoO0O00 . OoOoOO00 . o0oOOo0O0Ooo / I1ii11iIi11i
I1IiI = "ls lisp-* | egrep -v 'py|log|pem|txt|config' | " + "egrep -v lisp-xtr | egrep -v lisp-ztr"
if 73 - 73: OOooOOo / ii11ii1ii
if 94 - 94: OoOO + OoOO0ooOOoo0O + o0000oOoOoO0o * o00O0oo
O0oOO0o0 = getoutput ( I1IiI )
if 9 - 9: o0o - OOO0o0o
Ii1iI = "lisp-ipc-data-plane"
if ( O0oOO0o0 != "" ) :
 print ( "Removed LISP file descriptors:" , end = " " )
 O0oOO0o0 = O0oOO0o0 . split ( "\n" )
 if 100 - 100: i1IIi . o0o / o00O0oo * OoooooooOO + OoOO * OOooOOo
 if ( Ii1iI in O0oOO0o0 ) : O0oOO0o0 . remove ( Ii1iI )
 O0oOO0o0 . append ( "lispers.net-itr" )
 print ( O0oOO0o0 )
 if 99 - 99: o0000oOoOoO0o . ii11ii1ii / iIii1I11I1II1 * iIii1I11I1II1
 if 11 - 11: OOooOOo / i1IIi % II111iiii - OoOoOO00
for OOo in O0oOO0o0 :
 if ( OOo == "" ) : continue
 os . system ( "rm -f {}" . format ( OOo ) )
 if 1 - 1: II111iiii - I1ii11iIi11i % i11iIiiIii + o00O0oo . o0o
 if 55 - 55: iIii1I11I1II1 - I1IiiI . OoOO0ooOOoo0O * o00O0oo * i1IIi / iIii1I11I1II1
exit ( 0 )
if 79 - 79: OOooOOo + o0o . OOO0o0o * o00O0oo % OoOO . I1IiiI
if 94 - 94: o0000oOoOoO0o * OoOO0ooOOoo0O / o00O0oo . i1IIi * o0000oOoOoO0o
# dd678faae9ac167bc83abf78e5cb2f3f0688d3a3
